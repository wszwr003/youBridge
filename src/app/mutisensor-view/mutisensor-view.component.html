<div mat-app-background basic-container>
  <span class="view-name">设备/传感器({{ device_id }})</span>
  <div
    class="container"
    fxLayout="row wrap"
    fxLayout.xs="column"
    fxLayoutAlign="space-around stretch"
    fxLayoutGap="20px"
  >
    <mat-card fxFlex="calc(30%-20px)" fxFlex.sm="calc(30%-20px)">
      <mat-card-header>
        <!-- <div mat-card-avatar class="example-header-image"></div> -->
        <mat-card-title>
          <!-- <mat-icon> filter_tilt_shift </mat-icon> -->
          实时数据
        </mat-card-title>
        <mat-card-subtitle></mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div class="container" fxLayout="row" fxLayoutAlign="space-around">
          <!-- <app-new-solidgauge-chart [data]="data"> </app-new-solidgauge-chart> -->
        </div>
        <div class="data-label">
          VOC等级:
          <a class="data-text">
            {{ subscribe_msg.voc_lvl }}
          </a>
        </div>
        <div class="data-label">
          CO2:
          <a class="data-text">
            {{ subscribe_msg.co2 }}
          </a>
          PM2.5:
          <a class="data-text">{{ subscribe_msg.pm25 }} </a>
        </div>
        <div class="data-label">
          温度:<a class="data-text"> {{ subscribe_msg.temp }} </a>, 湿度:<a
            class="data-text"
          >
            {{ subscribe_msg.humi }}
          </a>
        </div>
      </mat-card-content>
    </mat-card>
    <mat-card fxFlex="calc(70%-20px)" fxFlex.sm="calc(70%-20px)">
      <mat-card-header>
        <!-- <div mat-card-avatar class="example-header-image"></div> -->
        <mat-card-title>
          <!-- <mat-icon> show_chart </mat-icon> -->
          历史数据
        </mat-card-title>
        <mat-card-subtitle></mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <!-- <app-new-line-chart></app-new-line-chart> -->
        <app-data-chart
          [data]="subscribe_msg"
          [datas]="datas"
          [chartInit]="sensorChartInit"
        ></app-data-chart>
      </mat-card-content>
    </mat-card>
  </div>
  <div
    class="container"
    fxLayout="row wrap"
    fxLayout.xs="column"
    fxLayoutGap="20px"
  >
    <mat-card fxFlex="calc(100%-20px)" fxFlex.sm="calc(100%-20px)">
      <mat-card-header>
        <mat-card-title>
          <!-- <mat-icon> gps_fixed </mat-icon> -->
          位置</mat-card-title
        >
        <mat-card-subtitle></mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <app-baidu-map></app-baidu-map>
      </mat-card-content>
    </mat-card>
  </div>
  <div
    class="container"
    fxLayout="row wrap"
    fxLayout.xs="column"
    fxLayoutGap="20px"
  >
    <mat-card
      class="control"
      fxFlex="calc(50%-20px)"
      fxFlex.sm="calc(50%-20px)"
    >
      <mat-card-header>
        <!-- <div mat-card-avatar class="example-header-image"></div> -->
        <mat-card-title>控制</mat-card-title>
        <mat-card-subtitle></mat-card-subtitle>
      </mat-card-header>
      <mat-card-content> </mat-card-content>
    </mat-card>
    <mat-card
      class="message"
      fxFlex="calc(50%-20px)"
      fxFlex.sm="calc(50%-20px)"
    >
      <mat-card-header>
        <!-- <div mat-card-avatar class="example-header-image"></div> -->
        <mat-card-title>消息</mat-card-title>
        <mat-card-subtitle></mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div
          class="message"
          *ngFor="let message of historyMsgStrings.reverse()"
        >
          {{ message }}
        </div>
      </mat-card-content>
    </mat-card>
  </div>
  <div
    class="container"
    fxLayout="row wrap"
    fxLayout.xs="column"
    fxLayoutGap="20px"
  >
    <mat-card fxFlex="calc(100%-20px)" fxFlex.sm="calc(100%-20px)">
      <mat-card-header>
        <!-- <div mat-card-avatar class="example-header-image"></div> -->
        <mat-card-title>历史数据</mat-card-title>
        <mat-card-subtitle></mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <app-data-table></app-data-table>
      </mat-card-content>
    </mat-card>
  </div>
</div>
